from pyrogram import Client, filters
import random
from typing import Union
from config import Config
from logo import generate_logo
from logo import get_wallpapers, get_unsplash
from pyrogram.types import *
import result
from pyrogram.types import User, Message, InlineQueryResultPhoto, InlineQueryResult, InputTextMessageContent, InlineKeyboardMarkup, InlineKeyboardButton, CallbackQuery, InlineQuery, Chat
from pyrogram.errors import UserNotParticipant, ChatAdminRequired, UsernameNotOccupied
from pyrogram.types import (
    InlineKeyboardButton,
    InlineKeyboardMarkup
)
from pyrogram import filters
from telegram import Message, MessageId
from telegram.ext import CallbackContext, Filters, MessageHandler
from telegram.error import ChatMigrated
from telegram.update import Update
from pyrogram.types import Message
from pyrogram import Client
from requests import get
import os
import requests
from pyrogram.types import InlineKeyboardMarkup, InlineKeyboardButton


caption = """
âœï¸ Logo Generated Successfullyâœ…

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡

ğŸš€ **Generated By** : **[LOGO GENERATE BOT ğŸ”…](http://t.me/The_logo_generate_bot)**

ğŸŒº **Requestor** :||** {} **||

ğŸŒ· **Powered By **  : **[Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech)**

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡ï¸  """
caption2 = """
âœï¸ Write picture Generated Successfullyâœ…

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡

ğŸš€ **Generated By** : **[LOGO GENERATE BOT ğŸ”…](http://t.me/The_logo_generate_bot)**

ğŸŒº **Requestor** :||** {} **||

ğŸŒ· **Powered By **  : **[Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech)**

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡ï¸  
    """

caption3 = """
âœï¸ Wallpaper Generated Successfullyâœ…

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡

ğŸš€ **Generated By** : **[LOGO GENERATE BOT ğŸ”…](http://t.me/The_logo_generate_bot)**

ğŸŒº **Requestor** :||** {} **||

ğŸŒ· **Powered By **  : **[Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech)**

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡ï¸  
    """

caption4 = """
âœï¸ Logohq Generated Successfullyâœ…

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡

ğŸš€ **Generated By** : **[LOGO GENERATE BOT ğŸ”…](http://t.me/The_logo_generate_bot)**

ğŸŒº **Requestor** :||** {} **||

ğŸŒ· **Powered By **  : **[Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech)**

â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡ï¸  
    """

HELP = """

**ğŸ–¼ How To Use Me ?**

**â™»ï¸ Example:** 

/logo NetworkTech
/logohq NetworkTech
/slogo NetworkTech
/slogohq NetworkTech
/write NetworkTech
/wall Trees
"""


app = Client(
    'logo Bot',
    bot_token = Config.BOT_TOKEN,
    api_id = Config.API_ID,
    api_hash = Config.API_HASH
)


FSUBB = InlineKeyboardMarkup(
        [[
        InlineKeyboardButton("Network Tech ğŸ‡±ğŸ‡°", url=f"https://t.me/NetworksTech") 
        ]]      
    )

@app.on_message(filters.command("start"))
async def start(client: Client, message: Message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001110021950"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    await message.reply_sticker(sticker = "CAACAgUAAxkBAAIDTmIH_UzldE-IIKD0-N_n_hrcVhzRAAKaAwACKwAB-VTV1LdMsVUFGCME")
    await message.reply_photo(
        photo=f"https://telegra.ph/file/12155d9fd310edf3fab33.jpg",
        caption = """
ğŸ€ hello There 

ğŸ™‹â€â™‚ï¸ I am Logo Generate Bot,I can 

ğŸŒº Generating logo
ğŸŒ· Generating wallpaper
ğŸš€ Generating 4k logo
ğŸ€ Writing Picture
ğŸ”¥ **Inline search Image**
ğŸ¯ 24 horse active

ğŸ”¥ Bot Commands ğŸ”¥

/logo NetworkTech
/logohq NetworkTech
/slogo NetworkTech
/slogohq NetworkTech
/write NetworkTech
/wall Trees

ğŸŒ¿ Developer : || @chamod_deshan ||

ğŸ”¥ [Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech) Corporation Â©ï¸
""",
    reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "â• â° á´€á´…á´… á´á´‡ á´›á´ É¢Ê€á´á´œá´˜ â± â•", url=f"https://t.me/The_logo_generate_bot?startgroup=true"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "Network Tech ğŸ‡±ğŸ‡°", url=f"https://t.me/NetworksTech"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "Network Tech Chat ğŸ‡±ğŸ‡°", url="https://t.me/Network_techchat"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Developer ğŸŒ·", url=f"https://t.me/chamod_deshan"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ†˜   help   ğŸ†˜", callback_data="help"
                    )
                ],
                [
                    InlineKeyboardButton(text=
                       "â—‡â”€â”€â”€â”€ğŸ” Search Here Image ğŸ”â”€â”€â”€â”€â—‡", switch_inline_query_current_chat=""
                    )
                ]
           ]
        )
    )


@app.on_message(filters.command("help"))
async def help(bot, message):
  await message.reply_photo("https://telegra.ph/file/bd9a2bb25666a94f30211.jpg",caption=HELP,reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton(text="<<< Back", callback_data="start_menu")]]), reply_to_message_id = message.message_id)   


@app.on_message(filters.command("about"))
async def about_(client: Client, message: Message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001110021950"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    await message.reply_sticker(sticker = "CAACAgUAAxkBAAIDTmIH_UzldE-IIKD0-N_n_hrcVhzRAAKaAwACKwAB-VTV1LdMsVUFGCME")
    await message.reply_photo(
        photo=f"https://telegra.ph/file/bd9a2bb25666a94f30211.jpg",
        caption = """

ğŸ”¥ [Network Tech ğŸ‡±ğŸ‡°](https://t.me/NetworksTech) Corporation Â©ï¸
""",
    reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "â• â° á´€á´…á´… á´á´‡ á´›á´ É¢Ê€á´á´œá´˜ â± â•", url=f"https://t.me/The_logo_generate_bot?startgroup=true"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "Network Tech ğŸ‡±ğŸ‡°", url=f"https://t.me/NetworksTech"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "Network Tech Chat ğŸ‡±ğŸ‡°", url="https://t.me/Network_techchat"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Developer ğŸŒ·", url=f"https://t.me/chamod_deshan"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ†˜   help   ğŸ†˜", callback_data="help"
                    )
                    
                ],
                [
                    InlineKeyboardButton(text=
                       "â—‡â”€â”€â”€â”€ğŸ” Search Here Image ğŸ”â”€â”€â”€â”€â—‡", switch_inline_query_current_chat=""
                    )
                ]
           ]
        )
    )

ibn = """**ğŸ¨ Successfully Generated logo âœ…**\n**ğŸ– This Logo was sent to the Requester by Bot Inbox ğŸ› **"""
     

@app.on_message(filters.command("slogo"))
async def on_off_antiarab(_, message: Message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    await message.reply_chat_action("typing")
    status = await message.reply("**âš™ Generating You Logo ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]), reply_to_message_id = message.message_id)
    await status.edit("**âš™ Generating You Logo ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]))
    await status.edit("**âš™ Generating You Logo ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ", callback_data="progress_msg")]]))
    text = message.text.split(None, 1)[1]
    photo = get(f"https://single-developers.up.railway.app/logo?name={text}").history[1].url
    await message.reply_chat_action("upload_photo")
    await app.send_photo(message.chat.id, photo=photo, caption =caption.format(message.from_user.mention), reply_to_message_id = message.message_id,
                 reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Open In Google ğŸŒ·", url=f"{photo}"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ– Send Inbox ğŸ–", callback_data="ib"
                    )
                ]
            ]
          )
    )
    await status.delete()

#hq logo creator
@app.on_message(filters.command("slogohq"))
async def on_off_antiarab(_, message: Message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    await message.reply_chat_action("typing")
    status = await message.reply("**âš™ Generating You Logohq ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]), reply_to_message_id = message.message_id)
    await status.edit("**âš™ Generating You Logohq ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]))
    await status.edit("**âš™ Generating You Logohq ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ", callback_data="progress_msg")]]))
    text = message.text.split(None, 1)[1]
    photo = get(f"https://single-developers.up.railway.app/logohq?name={text}").history[1].url
    await message.reply_chat_action("upload_photo")
    await app.send_photo(message.chat.id, photo=photo, caption =caption4.format(message.from_user.mention), reply_to_message_id = message.message_id,
                 reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Open In Google ğŸŒ·", url=f"{photo}"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ– Send Inbox ğŸ–", callback_data="ib"
                    )
                ]
            ]
          )
    )
    await status.delete()

#handwrite
@app.on_message(filters.command("write"))
async def on_off_antiarab(_, message: Message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    await message.reply_chat_action("typing")
    status = await message.reply("**âš™ Writing You Picture ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]), reply_to_message_id = message.message_id)
    await status.edit("**âš™ Writing You Picture ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]))
    await status.edit("**âš™ Writing You Picture ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ", callback_data="progress_msg")]]))
    text = message.text.split(None, 1)[1]
    API = "https://single-developers.up.railway.app/write"
    body = {     
     "text":f"{text}"     
    }
    req = requests.post(API, headers={'Content-Type': 'application/json'}, json=body)
    img = req.history[1].url
    await message.reply_chat_action("upload_photo")
    await app.send_photo(message.chat.id, photo=img, caption =caption2.format(message.from_user.mention), reply_to_message_id = message.message_id,
                 reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Open In Google ğŸŒ·", url=f"{img}"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ– Send Inbox ğŸ–", callback_data="ib"
                    )
                ]
            ]
          )
    )
    await status.delete()

#wallpaper
@app.on_message(filters.command("swall"))
async def on_off_antiarab(_, message: Message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    await message.reply_chat_action("typing")
    status = await message.reply("**âš™ Generating You Wallpaper ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]), reply_to_message_id = message.message_id)
    await status.edit("**âš™ Generating You Wallpaper ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]))
    await status.edit("**âš™ Generating You Wallpaper ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ", callback_data="progress_msg")]]))
    text = message.text.split(None, 1)[1]
    photo = get(f"https://single-developers.up.railway.app/wallpaper?search={text}").history[1].url
    await message.reply_chat_action("upload_photo")
    await app.send_photo(message.chat.id, photo=photo, caption=caption3.format(message.from_user.mention), reply_to_message_id = message.message_id,
                 reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Open In Google ğŸŒ·", url=f"{photo}"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ– Send Inbox ğŸ–", callback_data="ib"
                    )
                ]
            ]
          )
    )
    await status.delete()

@app.on_message(filters.command("logo"))
async def logo(bot, message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    text = message.text.split(None, 1)[1]
    await message.reply_chat_action("typing")
    status = await message.reply("**âš™ Generating You Logo ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]), reply_to_message_id = message.message_id)
    await status.edit("**âš™ Generating You Logo ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]))
    await status.edit("**âš™ Generating You Logo ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ", callback_data="progress_msg")]]))  
    photo = await generate_logo(text)
    await message.reply_chat_action("upload_photo")
    await app.send_photo(message.chat.id, photo=photo, caption=caption.format(message.from_user.mention), reply_to_message_id = message.message_id,
                 reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Open In Google ğŸŒ·", url=f"{photo}"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ– Send Inbox ğŸ–", callback_data="ib"
                    )
                ]
            ]
          )
    )
    await status.delete()


    

@app.on_message(filters.command("logohq"))
async def logohq(bot, message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB
    )
        return
    text = message.text.split(None, 1)[1]
    await message.reply_chat_action("typing")
    status = await message.reply("**âš™ Generating You Logohq ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]), reply_to_message_id = message.message_id)
    await status.edit("**âš™ Generating You Logohq ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]))
    await status.edit("**âš™ Generating You Logohq ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ", callback_data="progress_msg")]]))  
    photo = await generate_logo(text,True)
    await message.reply_chat_action("upload_photo")
    await app.send_photo(message.chat.id, photo=photo, caption=caption4.format(message.from_user.mention), reply_to_message_id = message.message_id,
                 reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Open In Google ğŸŒ·", url=f"{photo}"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ– Send Inbox ğŸ–", callback_data="ib"
                    )
                ]
            ]
          )
    )
    await status.delete()
    

@app.on_message(filters.command("wall"))
async def logo(bot, message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    text = message.text.split(None, 1)[1]
    await message.reply_chat_action("typing")
    status = await message.reply("**âš™ Generating You Wallpaper ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]), reply_to_message_id = message.message_id)
    await status.edit("**âš™ Generating You Wallpaper ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]))
    await status.edit("**âš™ Generating You Wallpaper ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ", callback_data="progress_msg")]]))  
    img = await get_wallpapers(text)
    photo = random.choice(img)
    await message.reply_chat_action("upload_photo")
    await app.send_photo(message.chat.id, photo=photo, caption=caption3.format(message.from_user.mention), reply_to_message_id = message.message_id,
                 reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Open In Google ğŸŒ·", url=f"{photo}"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ– Send Inbox ğŸ–", callback_data="ib"
                    )
                ]
            ]
          )
    )
    await status.delete()
    
 
@app.on_message(filters.command("unsplash"))
async def logo(bot, message):
    try:
        await message.reply_chat_action("typing")
        await message._client.get_chat_member(int("-1001638745764"), message.from_user.id)
    except UserNotParticipant:
        await message.reply_text(
        text=f"**â›”ï¸ Access Denied â›”ï¸**\n\nğŸ™‹â€â™‚ï¸ **Hey There** {message.from_user.mention}, You Must **Join** @NetworksTech  Telegram **Channel** To Use This BOT. So, **Please Join** it & Try AgainğŸ¤—. **Thank** You ğŸ¤", disable_web_page_preview=True, reply_markup=FSUBB, reply_to_message_id = message.message_id
    )
        return
    text = message.text.split(None, 1)[1]
    await message.reply_chat_action("typing")
    status = await message.reply("**âš™ Generating You Wallpaper ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]), reply_to_message_id = message.message_id)
    await status.edit("**âš™ Generating You Wallpaper ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘", callback_data="progress_msg")]]))
    await status.edit("**âš™ Generating You Wallpaper ....**",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ", callback_data="progress_msg")]]))  
    img = await get_unsplash(text)
    photo = random.choice(img)
    await message.reply_chat_action("upload_photo")
    await app.send_photo(message.chat.id, photo=photo, caption=caption3.format(message.from_user.mention), reply_to_message_id = message.message_id,
                 reply_markup=InlineKeyboardMarkup(
            [
                [
                    InlineKeyboardButton(
                        "ğŸŒ· Open In Google ğŸŒ·", url=f"{photo}"
                    )
                ],
                [
                    InlineKeyboardButton(
                        "ğŸ– Send Inbox ğŸ–", callback_data="ib"
                    )
                ]
            ]
          )
    )
    await status.delete()

API = "https://apibu.herokuapp.com/api/y-images?query="

button = InlineKeyboardMarkup(
    [
        [
            InlineKeyboardButton("Network Tech ğŸ‡±ğŸ‡°", url=f"https://t.me/NetworksTech")
        ],
        [
            InlineKeyboardButton("ğŸ”â—‡â”€â—‡Search Againâ—‡â”€â—‡ğŸ”", switch_inline_query_current_chat="")
        ]
    ]
    
    )


@app.on_callback_query(filters.regex("help"))
async def help(_,query):
  await query.answer(f"ğŸ– Bot Help ğŸ–")
  await query.message.edit(HELP,reply_markup=InlineKeyboardMarkup([[InlineKeyboardButton(text="<<< Back", callback_data="start")]]))

@app.on_callback_query(filters.regex("ib"))
async def ib(_,query):
  await query.answer(f"ğŸ– Send Inbox ğŸ–")
  try:
    msg = await query.message.edit_reply_markup(reply_markup=None)
    await msg.copy(chat_id=message.from_user.id)
  except FloodWait:
    pass
  except Exception as e:
    try:
      return await x.edit(f"`erorr n\n`{str(e)}`")
    except:
      return

@app.on_callback_query()
async def button(app, update):
      cb_data = update.data
      if "ibv" in cb_data:
        await message.copy(chat_id=message.from_user.id)
        await update.message.edit(ibn)
      elif "start" in cb_data:
        await update.message.delete()
        await start(app, update.message)

@app.on_inline_query()
async def search(bot, update):
    results = requests.get(API + requests.utils.requote_uri(update.query)).json()["result"][:50]
    answers = []
    for result in results:
        answers.append(
            InlineQueryResultPhoto(
                title=update.query.capitalize(),
                description=result,
                reply_markup= button,
                caption="Netwok Tech ğŸ‡±ğŸ‡°](https://t.me/NetwoksTech)  corporation Â©",
                photo_url=result
            )
        )
    await update.answer(answers)

app.run()
